{
    "_description": "Simplified Flow Pipeline Configuration",
    "_version": "2.0",
    "_structure": "consolidated",
    "_note": "All stage configurations consolidated into single file",
    "dataset": {
        "source": "hub",
        "hub_id": "AiEDA/iPCL-R",
        "train_split": "train",
        "validation_split": "validation",
        "train_local_dir": "/mnt/local_data1/liweiguo/experiments/model_size_comparison/work_dir/Large-DecimalWordLevel/data_synthesis",
        "eval_local_dir": "/mnt/local_data1/liweiguo/experiments/model_size_comparison/work_dir/Large-DecimalWordLevel/stage_evaluation/evaluation_dataset"
    },
    "tokenization": {
        "paths": {
            "token_dataset_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_tokenization/token_dataset",
            "tokenizer_save_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_tokenization/tokenizer",
            "output_metadata_path": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_tokenization/output_metadata.json"
        },
        "workflow": {
            "tokenizer_algorithm": "None",
            "target_vocab_size": 0,
            "max_sequence_length": 1024,
            "save_metadata": true
        },
        "performance": {
            "num_workers": 16,
            "batch_size": 1000
        },
        "advanced": {
            "overlap_info_require": false,
            "overlap_top_k": 3,
            "connected_info_require": false,
            "connected_top_k": 3,
            "use_coord_sorted_input": true
        },
        "log_level": "INFO"
    },
    "training": {
        "paths": {
            "split_dataset_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_training/split_dataset",
            "model_save_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_training/model",
            "logging_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_training/logs"
        },
        "model": {
            "hidden_size": 256,
            "intermediate_size": 1024,
            "num_hidden_layers": 4,
            "num_attention_heads": 4,
            "num_key_value_heads": 2,
            "head_dim": 64,
            "max_position_embeddings": 512,
            "sliding_window": 256,
            "dropout_rate": 0.1
        },
        "hyperparameters": {
            "max_src_len": 512,
            "max_tgt_len": 512,
            "train_split_ratio": 0.9,
            "num_train_epochs": 1,
            "batch_size_per_device": 1,
            "gradient_accumulation_steps": 4,
            "learning_rate": 1e-05,
            "weight_decay": 0.01,
            "warmup_ratio": 0.001,
            "max_grad_norm": 1.0,
            "optimizer_type": "adamw_8bit",
            "scheduler_type": "linear",
            "eval_strategy": "epoch",
            "save_strategy": "epoch",
            "early_stopping_patience": 3,
            "logging_strategy": "steps",
            "logging_steps": 1,
            "seed": 42
        },
        "performance": {
            "num_workers": 48,
            "batch_size": 1000,
            "dataloader_num_workers": 16,
            "dataloader_pin_memory": true,
            "resume_from_checkpoint": false
        },
        "log_level": "INFO"
    },
    "evaluation": {
        "paths": {
            "output_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_evaluation",
            "metrics_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_evaluation/metrics",
            "plots_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_evaluation/plots",
            "logging_dir": "/mnt/local_data1/liweiguo/experiments/sft_llm/stage_evaluation/logs"
        },
        "generation": {
            "max_new_tokens": 1024,
            "num_beams": 1,
            "do_sample": false,
            "temperature": 0.9,
            "top_p": 1.0,
            "top_k": 50,
            "repetition_penalty": 1.0,
            "length_penalty": 1.0,
            "early_stopping": true
        },
        "metrics": {
            "calculate_rouge": true,
            "calculate_bleu": true,
            "calculate_exact_match": true,
            "calculate_domain_metrics": true,
            "use_coordinate_parsing": true,
            "use_tree_structure_analysis": true,
            "use_routing_metrics": true
        },
        "performance": {
            "num_workers": 48,
            "batch_size": 1,
            "dataloader_num_workers": 16,
            "dataloader_pin_memory": true
        },
        "output": {
            "save_predictions": true,
            "save_metrics": true,
            "num_demo_examples": 5
        },
        "log_level": "INFO"
    }
}